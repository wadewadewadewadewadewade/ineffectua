{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _InternalAnimatedValue = _interopRequireDefault(require(\"../core/InternalAnimatedValue\"));\n\nvar _timing = _interopRequireDefault(require(\"./timing\"));\n\nvar _base = require(\"../base\");\n\nvar _AnimatedClock = _interopRequireDefault(require(\"../core/AnimatedClock\"));\n\nvar _Easing = _interopRequireDefault(require(\"../Easing\"));\n\nvar _Animation2 = _interopRequireDefault(require(\"./Animation\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar easeInOut = _Easing.default.inOut(_Easing.default.ease);\n\nvar TimingAnimation = function (_Animation) {\n  (0, _inherits2.default)(TimingAnimation, _Animation);\n\n  var _super = _createSuper(TimingAnimation);\n\n  function TimingAnimation(config) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, TimingAnimation);\n    _this = _super.call(this);\n\n    _defineProperty((0, _assertThisInitialized2.default)(_this), \"_toValue\", void 0);\n\n    _defineProperty((0, _assertThisInitialized2.default)(_this), \"_duration\", void 0);\n\n    _defineProperty((0, _assertThisInitialized2.default)(_this), \"_easing\", void 0);\n\n    _defineProperty((0, _assertThisInitialized2.default)(_this), \"_clock\", void 0);\n\n    _this._toValue = config.toValue;\n    _this._easing = config.easing !== undefined ? config.easing : easeInOut;\n    _this._duration = config.duration !== undefined ? config.duration : 500;\n    return _this;\n  }\n\n  (0, _createClass2.default)(TimingAnimation, [{\n    key: \"start\",\n    value: function start(value) {\n      this._clock = new _AnimatedClock.default();\n      var state = {\n        finished: new _InternalAnimatedValue.default(0),\n        position: value,\n        time: new _InternalAnimatedValue.default(0),\n        frameTime: new _InternalAnimatedValue.default(0)\n      };\n      var config = {\n        duration: this._duration,\n        toValue: this._toValue,\n        easing: this._easing\n      };\n      return (0, _base.block)([(0, _base.cond)((0, _base.clockRunning)(this._clock), 0, [(0, _base.startClock)(this._clock)]), (0, _timing.default)(this._clock, state, config), (0, _base.cond)(state.finished, (0, _base.stopClock)(this._clock))]);\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {}\n  }], [{\n    key: \"getDefaultState\",\n    value: function getDefaultState() {\n      return {\n        position: new _InternalAnimatedValue.default(0),\n        finished: new _InternalAnimatedValue.default(0),\n        time: new _InternalAnimatedValue.default(0),\n        frameTime: new _InternalAnimatedValue.default(0)\n      };\n    }\n  }]);\n  return TimingAnimation;\n}(_Animation2.default);\n\nexports.default = TimingAnimation;","map":{"version":3,"sources":["TimingAnimation.js"],"names":["easeInOut","Easing","constructor","config","state","finished","position","time","frameTime","duration","toValue","easing","_easing","block","cond","clockRunning","startClock","timing","stopClock"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,SAAS,GAAGC,gBAAAA,KAAAA,CAAaA,gBAA/B,IAAkBA,CAAlB;;IAEe,e;;;;;AAObC,2BAAW,MAAXA,EAAoB;AAAA;;AAAA;AAClB;;AADkB,IAAA,eAAA,8CAAA,UAAA,EAAA,KAAA,CAAA,CAAA;;AAAA,IAAA,eAAA,8CAAA,WAAA,EAAA,KAAA,CAAA,CAAA;;AAAA,IAAA,eAAA,8CAAA,SAAA,EAAA,KAAA,CAAA,CAAA;;AAAA,IAAA,eAAA,8CAAA,QAAA,EAAA,KAAA,CAAA,CAAA;;AAElB,UAAA,QAAA,GAAgBC,MAAM,CAAtB,OAAA;AACA,UAAA,OAAA,GAAeA,MAAM,CAANA,MAAAA,KAAAA,SAAAA,GAA8BA,MAAM,CAApCA,MAAAA,GAAf,SAAA;AACA,UAAA,SAAA,GAAiBA,MAAM,CAANA,QAAAA,KAAAA,SAAAA,GAAgCA,MAAM,CAAtCA,QAAAA,GAAjB,GAAA;AAJkB;AAKnB;;;;0BAEI,K,EAAQ;AACX,WAAA,MAAA,GAAc,IAAd,sBAAc,EAAd;AAEA,UAAMC,KAAK,GAAG;AACZC,QAAAA,QAAQ,EAAE,IAAA,8BAAA,CADE,CACF,CADE;AAEZC,QAAAA,QAAQ,EAFI,KAAA;AAGZC,QAAAA,IAAI,EAAE,IAAA,8BAAA,CAHM,CAGN,CAHM;AAIZC,QAAAA,SAAS,EAAE,IAAA,8BAAA,CAAA,CAAA;AAJC,OAAd;AAOA,UAAML,MAAM,GAAG;AACbM,QAAAA,QAAQ,EAAE,KADG,SAAA;AAEbC,QAAAA,OAAO,EAAE,KAFI,QAAA;AAGbC,QAAAA,MAAM,EAAE,KAAKC;AAHA,OAAf;AAMA,aAAOC,iBAAM,CACXC,gBAAKC,wBAAa,KAAd,MAACA,CAALD,EAAI,CAAJA,EAAmC,CAACE,sBAAW,KADpC,MACyBA,CAAD,CAAnCF,CADW,EAEXG,qBAAO,KAAD,MAANA,EAAM,KAANA,EAFW,MAEXA,CAFW,EAGXH,gBAAKV,KAAK,CAAN,QAAJU,EAAqBI,qBAAU,KAHjC,MAGuBA,CAArBJ,CAHW,CAAND,CAAP;AAKD;;;2BAEM,CAEN;;;sCAEwB;AACvB,aAAO;AACLP,QAAAA,QAAQ,EAAE,IAAA,8BAAA,CADL,CACK,CADL;AAELD,QAAAA,QAAQ,EAAE,IAAA,8BAAA,CAFL,CAEK,CAFL;AAGLE,QAAAA,IAAI,EAAE,IAAA,8BAAA,CAHD,CAGC,CAHD;AAILC,QAAAA,SAAS,EAAE,IAAA,8BAAA,CAAA,CAAA;AAJN,OAAP;AAMD;;;EAhDY,mB","sourcesContent":["import AnimatedValue from '../core/InternalAnimatedValue';\nimport timing from './timing';\nimport { block, clockRunning, startClock, stopClock, cond } from '../base';\nimport Clock from '../core/AnimatedClock';\nimport Easing from '../Easing';\n\nimport Animation from './Animation';\n\nconst easeInOut = Easing.inOut(Easing.ease);\n\nexport default class TimingAnimation extends Animation {\n  _toValue;\n  _duration;\n  _easing;\n\n  _clock;\n\n  constructor(config) {\n    super();\n    this._toValue = config.toValue;\n    this._easing = config.easing !== undefined ? config.easing : easeInOut;\n    this._duration = config.duration !== undefined ? config.duration : 500;\n  }\n\n  start(value) {\n    this._clock = new Clock();\n\n    const state = {\n      finished: new AnimatedValue(0),\n      position: value,\n      time: new AnimatedValue(0),\n      frameTime: new AnimatedValue(0),\n    };\n\n    const config = {\n      duration: this._duration,\n      toValue: this._toValue,\n      easing: this._easing,\n    };\n\n    return block([\n      cond(clockRunning(this._clock), 0, [startClock(this._clock)]),\n      timing(this._clock, state, config),\n      cond(state.finished, stopClock(this._clock)),\n    ]);\n  }\n\n  stop() {\n    // this._finished && this._finished.setValue(1);\n  }\n\n  static getDefaultState() {\n    return {\n      position: new AnimatedValue(0),\n      finished: new AnimatedValue(0),\n      time: new AnimatedValue(0),\n      frameTime: new AnimatedValue(0),\n    };\n  }\n}\n"]},"metadata":{},"sourceType":"script"}